CREATE TABLE User
(
 UserID SERIAL,
 Username VARCHAR(60) NOT NULL,
 PasswordHash VARCHAR(64) NOT NULL,
 IsAdmin BIT(1) NOT NULL,
 PRIMARY KEY (UserID)
);

CREATE TABLE Transactions
(
 TransactionID SERIAL,
 BucketName VARCHAR(60) NOT NULL,
 IsExpense TINYINT(1) NOT NULL,
 Amount DECIMAL(10,2) NOT NULL,
 TransDate DATE NOT NULL,
 Description TEXT NOT NULL,
 Username VARCHAR(60) NOT NULL,
 PRIMARY KEY (TransactionID),
 FOREIGN KEY (UserID) REFERENCES User(UserID)
);

CREATE TABLE Buckets
(
 BucketID SERIAL,
 BucketName VARCHAR(60) NOT NULL,
 BucketDescription TEXT NOT NULL,
 BucketValue DECIMAL(10,2) NOT NULL,
 Username VARCHAR(60) NOT NULL,
 PRIMARY KEY (BucketID),
 FOREIGN KEY (UserID) REFERENCES User(UserID)
);

CREATE TABLE Budget
(
 TotalMonthlyAllocation DECIMAL(10,2) NOT NULL,
 BudgetID SERIAL,
 Username VARCHAR(60) NOT NULL,
 PRIMARY KEY (BudgetID),
 FOREIGN KEY (UserID) REFERENCES User(UserID)
);

CREATE TABLE Shared
(
 UserID_1 INT NOT NULL,
 SharedUserID_2 INT NOT NULL,
 PRIMARY KEY (Username_1, SharedUsername_2),
 FOREIGN KEY (UserID_1) REFERENCES User(UserID),
 FOREIGN KEY (SharedUserID_2) REFERENCES User(UserID)
);
